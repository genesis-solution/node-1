import{r as o,n as t,l as e,k as h,Q as i}from"./index-CYYMkemY.js";import{u as w}from"./useAmenities-D0xJys_W.js";import{u as C}from"./useCategories-DjRaMXom.js";function v({refetch:a,closeDialog:n}){const[r,c]=o.useState(""),[d,m]=o.useState(null),g=o.useCallback(async()=>{try{await h.postForm("/category",{image:d,name:r}),i.success("Category Added Successfully"),n(),await a()}catch{i.error("Something went wrong")}},[n,d,r,a]);return e("div",{className:"fixed top-0 left-0 w-full h-full bg-gray-300 bg-opacity-50 z-50 flex justify-center items-center",children:t("div",{className:"bg-white w-1/3 h-1/2 rounded-lg flex flex-col p-5 shadow-xl relative",children:[e("span",{className:"absolute right-6 cursor-pointer",onClick:n,children:"✖"}),e("h1",{className:"font-medium text-2xl",children:"Add a new Category"}),e("span",{className:"font-extralight mb-2",children:"Add a new Category to the list"}),t("form",{action:"",id:"form-c",children:[t("div",{className:"flex flex-col mt-5",children:[e("label",{className:"font-light text-sm",children:"Category Name"}),e("input",{type:"text",name:"categoryName",className:"border border-solid border-gray-300 rounded-lg px-3 py-2 mt-2",onChange:l=>{c(l.target.value)}})]}),t("div",{className:"flex flex-col mt-5",children:[e("label",{className:"font-light text-sm",children:"Category Icon"}),e("input",{name:"categoryIcon",type:"file",className:"border border-solid border-gray-300 rounded-lg px-3 py-2 mt-2",onChange:l=>{m(l.target.files[0])}})]})]}),e("div",{className:"flex justify-end mt-5",children:e("button",{className:"bg-blue-700 border-none outline-none text-sm text-white font-semibold rounded-lg px-5 py-3",onClick:g,children:"Add Category"})})]})})}function k({refetch:a,closeDialog:n}){const[r,c]=o.useState(""),[d,m]=o.useState(null),g=o.useCallback(async()=>{try{await h.postForm("/amenities",{name:r,image:d}),await a(),i.success("Amenity Added Successfully"),n()}catch{i.error("Something went wrong")}},[n,d,r,a]);return e("div",{className:"fixed top-0 left-0 w-full h-full bg-gray-300 bg-opacity-50 z-50 flex justify-center items-center",children:t("div",{className:"bg-white w-1/3 h-1/2 rounded-lg flex flex-col p-5 shadow-xl relative",children:[e("span",{className:"absolute right-6 cursor-pointer",onClick:n,children:"✖"}),e("h1",{className:"font-medium text-2xl",children:"Add a new Amenity"}),e("span",{className:"font-extralight mb-2",children:"Add a new Amenity to the list"}),t("form",{action:"",id:"form-a",children:[t("div",{className:"flex flex-col mt-5",children:[e("label",{className:"font-light text-sm",children:"Amenity Name"}),e("input",{type:"text",name:"amenityName",accept:"image/*",className:"border border-solid border-gray-300 rounded-lg px-3 py-2 mt-2",onChange:l=>{c(l.target.value)}})]}),t("div",{className:"flex flex-col mt-5",children:[e("label",{className:"font-light text-sm",children:"Amenity Icon"}),e("input",{type:"file",name:"amenityIcon",className:"border border-solid border-gray-300 rounded-lg px-3 py-2 mt-2",onChange:l=>{m(l.target.files[0])}})]})]}),e("div",{className:"flex justify-end mt-5",children:e("button",{className:"bg-blue-700 border-none outline-none text-sm text-white font-semibold rounded-lg px-5 py-3",onClick:g,children:"Add Amenity"})})]})})}function I(){const{categories:a,refetch:n}=C(),{amenities:r,refetch:c}=w(),[d,m]=o.useState(!1),[g,l]=o.useState(!1),f=()=>{console.log("Categories Updated")},y=()=>{console.log("Amenities Updated")},x=()=>{m(!0)},p=()=>{l(!0)},b=async s=>{try{await h.delete(`/category/${s}`),i.success("Category Deleted Successfully")}catch{console.log("Error"),i.error("Something went wrong")}},N=async s=>{try{await h.delete(`/amenities/${s}`),i.success("Amenity Deleted Successfully"),c()}catch{console.log("Error"),i.error("Something went wrong")}};return t("div",{children:[d&&e(v,{refetch:n,closeDialog:()=>m(!1)}),g&&e(k,{refetch:c,closeDialog:()=>l(!1)}),t("div",{className:"categories ml-5 flex flex-col mb-5 pl-2",children:[e("h1",{className:"font-medium text-3xl mt-3",children:"Categories"}),e("span",{className:"font-extralight mb-2",children:"Add/Remove the Categories visible to Listers"}),t("div",{className:"list grid-cols-5 grid gap-x-3",children:[a&&a.map(s=>{const u=`${h.defaults.baseURL}/category/image/${s.image}`;return t("div",{className:"flex items-center mt-3",children:[e("img",{src:u,className:"mr-3",width:20,height:20}),e("span",{className:"mr-2 grow",children:s.name}),e("span",{className:"justify-self-end mr-3 cursor-pointer",onClick:async()=>{if(window.confirm("Are you sure you want to delete this category?"))await b(s._id);else return},children:"✕"})]},s._id)}),e("span",{className:"font-light self-center text-blue-800 cursor-pointer py-2 mt-3 px-4 border border-solid border-blue-800 rounded-lg text-sm",onClick:x,children:"Add a new Category"})]}),e("button",{className:"bg-blue-700 mt-5 ml-4 border-none outline-none text-sm text-white font-semibold rounded-lg px-5 py-3 self-end mr-10",onClick:f,children:"Update the Categories"})]}),t("div",{className:"amenities ml-5 flex flex-col mb-5 pl-2",children:[e("h1",{className:"font-medium text-3xl mt-5",children:"Amenities"}),e("span",{className:"font-extralight mb-2",children:"Add/Remove the Amenities visible to Listers"}),t("div",{className:"list grid-cols-5 grid",children:[r&&r.map(s=>{const u=`${h.defaults.baseURL}/amenities/image/${s.image}`;return t("div",{className:"flex items-center mt-3",children:[e("img",{src:u,className:"mr-2",width:20,height:20}),e("span",{className:"mr-2",children:s.name}),e("span",{className:"justify-self-end mr-3 cursor-pointer",onClick:()=>{if(window.confirm("Are you sure you want to delete this Amenity?"))N(s._id);else return},children:"✕"})]},s._id)}),e("span",{className:"font-light self-center text-blue-800 cursor-pointer py-2 mt-3 px-4 border border-solid border-blue-800 rounded-lg text-sm",onClick:p,children:"Add a new Amenity"})]}),e("button",{className:"bg-blue-700 mt-5 ml-4 mb-7 border-none outline-none text-sm text-white font-semibold rounded-lg px-5 py-3 self-end mr-10",onClick:y,children:"Update the Amenities"})]})]})}export{I as default};
