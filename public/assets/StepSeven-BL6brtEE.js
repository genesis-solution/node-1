var O=Object.defineProperty;var _=(s,u,o)=>u in s?O(s,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[u]=o;var S=(s,u,o)=>_(s,typeof u!="symbol"?u+"":u,o);import{w as n,r as d,l as e,n as a,I as v,F as j,k as F}from"./index-7VV-N64s.js";import{C as $,T as Z,a as E,P,M as U}from"./ChangeView-CDkdWtqO.js";import{M as z}from"./MapEvents-DoU__i7w.js";import{S as B}from"./Spot-BQhcZjWC.js";import{u as I}from"./useCategories-CVIE_Zfq.js";import{u as H}from"./useAmenities-ByFBqxGF.js";const W="/assets/indoor-AUhEk7il.jpg",V="/assets/outdoor-B0zytXF9.jpeg",G=({progress:s,setIndicator:u,spot:o,onChange:c,disabled:t})=>{const[i,l]=d.useState({...o}),[m,h]=d.useState({input:"",show:!1}),[r,x]=d.useState(null);d.useEffect(()=>{c({...o,...i}),console.log(i)},[i]);const y=d.useCallback(b=>{l(g=>({...g,maxCapacity:+b.target.value}))},[]),w=d.useCallback(b=>{l(g=>({...g,type:b})),x(b)},[]);return d.useEffect(()=>{s===2&&(i!=null&&i.maxCapacity&&r?u(!1):u(!0))},[i==null?void 0:i.maxCapacity,r,s]),a("div",{className:`bg-blue-100 relative rounded-lg shadow-md ${s===2?"max-w-md min-h-screen h-fit p-6":"h-0 w-0"} duration-200 overflow-hidden mx-auto mb-4`,children:[m.show&&e("div",{onClick:()=>h({input:"",show:!1}),className:"fixed w-screen h-screen bg-transparent top-0 "}),a("div",{className:"mb-2",children:[a("label",{className:"flex  relative  w-full gap-2 items-start text-gray-700 font-medium mb-2",htmlFor:"guestCount",children:[e("p",{className:"font-sans font-500",children:"Number of Guests"}),e("button",{className:"-ml-1 ",onClick:()=>h({input:"guest",show:!m.show}),children:a("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{y:"0.5",width:"12",height:"12",rx:"6",fill:"white"}),e("rect",{x:"0.5",y:"1",width:"11",height:"11",rx:"5.5",stroke:"black",strokeOpacity:"0.75"}),e("path",{d:"M7.29979 3.5C7.11408 3.5 6.93598 3.55925 6.80467 3.66471C6.67335 3.77017 6.59958 3.9132 6.59958 4.06235C6.59958 4.21149 6.67335 4.35453 6.80467 4.45999C6.93598 4.56545 7.11408 4.62469 7.29979 4.62469C7.4855 4.62469 7.6636 4.56545 7.79491 4.45999C7.92623 4.35453 8 4.21149 8 4.06235C8 3.9132 7.92623 3.77017 7.79491 3.66471C7.6636 3.55925 7.4855 3.5 7.29979 3.5ZM7.13174 5.28826C6.57624 5.32575 5.05912 6.29674 5.05912 6.29674C4.96576 6.35297 4.99376 6.34922 5.06845 6.45419C5.14314 6.55542 5.13381 6.56291 5.2225 6.51418C5.31586 6.46544 5.46991 6.38671 5.72665 6.25925C6.71628 5.74939 5.88537 6.92656 5.46057 8.90977C5.29252 9.892 6.39418 9.38589 6.67894 9.23593C6.95902 9.08972 7.71058 8.67359 7.78527 8.63235C7.88797 8.57611 7.81328 8.53113 7.73392 8.4374C7.6779 8.37367 7.62189 8.41866 7.62189 8.41866C7.31846 8.57986 6.76296 8.91727 6.68827 8.70358C6.59958 8.48989 7.16908 7.02404 7.48184 6.01556C7.53319 5.77563 7.67324 5.25077 7.13174 5.28826Z",fill:"black"})]})}),m.show&&m.input==="guest"&&e("div",{className:"border-[1px] absolute left-[40%] bg-blue-100 top-2 w-[48%] text-[9px] px-3 py-4 border-black rounded-2xl",children:"How many guests are you willing to accommodate safely in your spot?"})]}),e("input",{type:"number",id:"guestCount",placeholder:"Select guest count",className:"w-full border border-gray-300 bg-transparent rounded py-2 px-3 text-gray-700",value:i==null?void 0:i.maxCapacity,onChange:y,disabled:t})]}),a("div",{className:"relative inline-block w-full mt-5",children:[a("div",{className:"flex ",children:[e("p",{className:" text-gray-700 flex gap-2 font-medium",children:"Spot type"}),e("button",{className:"ml-1 -mt-2 ",onClick:()=>h({input:"spotType",show:!m.show}),children:a("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{y:"0.5",width:"12",height:"12",rx:"6",fill:"white"}),e("rect",{x:"0.5",y:"1",width:"11",height:"11",rx:"5.5",stroke:"black",strokeOpacity:"0.75"}),e("path",{d:"M7.29979 3.5C7.11408 3.5 6.93598 3.55925 6.80467 3.66471C6.67335 3.77017 6.59958 3.9132 6.59958 4.06235C6.59958 4.21149 6.67335 4.35453 6.80467 4.45999C6.93598 4.56545 7.11408 4.62469 7.29979 4.62469C7.4855 4.62469 7.6636 4.56545 7.79491 4.45999C7.92623 4.35453 8 4.21149 8 4.06235C8 3.9132 7.92623 3.77017 7.79491 3.66471C7.6636 3.55925 7.4855 3.5 7.29979 3.5ZM7.13174 5.28826C6.57624 5.32575 5.05912 6.29674 5.05912 6.29674C4.96576 6.35297 4.99376 6.34922 5.06845 6.45419C5.14314 6.55542 5.13381 6.56291 5.2225 6.51418C5.31586 6.46544 5.46991 6.38671 5.72665 6.25925C6.71628 5.74939 5.88537 6.92656 5.46057 8.90977C5.29252 9.892 6.39418 9.38589 6.67894 9.23593C6.95902 9.08972 7.71058 8.67359 7.78527 8.63235C7.88797 8.57611 7.81328 8.53113 7.73392 8.4374C7.6779 8.37367 7.62189 8.41866 7.62189 8.41866C7.31846 8.57986 6.76296 8.91727 6.68827 8.70358C6.59958 8.48989 7.16908 7.02404 7.48184 6.01556C7.53319 5.77563 7.67324 5.25077 7.13174 5.28826Z",fill:"black"})]})}),m.show&&m.input==="spotType"&&e("div",{className:"border-[1px] absolute left-[30%] bg-blue-100 -top-4 w-[70%] text-[9px] p-3 border-black rounded-2xl",children:"What type of spot are you offering? Indoor or Outdoor?"})]}),e(M,{setSelected:w})]})]})};G.propTypes={progress:n.number.isRequired,setIndicator:n.func.isRequired,spot:n.object.isRequired,onChange:n.func.isRequired,disabled:n.bool};const q=[{id:1,name:"indoor",icon:W},{id:2,name:"outdoor",icon:V}],M=d.memo(({setSelected:s})=>{const[u,o]=d.useState(null),c=d.useCallback(t=>{o(t);const i=q.find(l=>l.id===t);s(i.name)},[s]);return e("div",{className:"bg-blue-100 z-50 h-fit w-fit rounded-lg px-2 flex items-center justify-start py-3 gap-6 flex-col duration-100 mt-0",children:e("div",{className:"flex flex-wrap gap-6",children:q.map(t=>a("button",{onClick:()=>c(t.id),className:`flex flex-col justify-center items-center rounded-lg overflow-hidden h-[20vh] w-[45%] border-2 duration-500  cursor-pointer transition-colors ${u===t.id?"bg-brand-primary text-white":"bg-white text-stone-950"}`,"aria-selected":u===t.id,children:[e("img",{src:t.icon,className:"w-full h-[90%] object-cover",alt:t.name}),e("span",{children:t.name.charAt(0).toUpperCase()+t.name.slice(1)})]},t.id))})})});M.propTypes={setSelected:n.func.isRequired};const X=({progress:s,spot:u,onChange:o,setIndicator:c})=>{var w,b,g,N;const[t,i]=d.useState({...u}),[l,m]=d.useState("");d.useEffect(()=>{o(t)},[t]),d.useEffect(()=>{u&&i(u)},[u]);const h=(p,f,C)=>{i(k=>({...k,availability:{...k.availability,[p]:{...k.availability[p],[f]:C}}}))},r=p=>{i(f=>({...f,availability:{...f.availability,[p]:{...f.availability[p],holiday:!f.availability[p].holiday}}}))},x=p=>{m(p),t.availability[p]||i(f=>({...f,availability:{...f.availability,[p]:{open:"",close:"",holiday:!1}}}))},y=()=>{const p=t.availability[l],f={};["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach(C=>{f[C]=p}),i(C=>({...C,availability:f}))};return d.useEffect(()=>{s==3&&(l&&s==3?c(!1):c(!0))},[l,s]),a("div",{className:`bg-blue-100 relative rounded-lg shadow-md ${s===3?"max-w-md min-h-screen h-fit p-6":"h-0 w-0"} duration-200 overflow-hidden mx-auto mb-4`,children:[a("div",{className:"text-2xl flex gap-3 items-center font-semibold mb-4 cursor-pointer",children:["Availability Timings"," "]}),a("div",{className:`${Object.keys((t==null?void 0:t.availability)??{}).length?"max-h-[400px]":"max-h-0"} duration-200 overflow-hidden mb-4`,children:[e("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"selectDay",children:"Select Day"}),e("div",{id:"selectDay",className:"border border-gray-300 rounded p-2",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(p=>{var f,C,k,R,T,D;return a("div",{className:"flex justify-between items-center mb-2",children:[a("label",{className:"flex items-center space-x-2",children:[e("input",{type:"checkbox",className:"form-checkbox h-5 w-5",checked:l===p,onChange:()=>x(p)}),e("span",{children:p})]}),a("div",{className:"flex justify-between items-end w-[35%] flex-shrink-0 gap-3",children:[a("div",{className:"onoffswitch",children:[e("input",{type:"checkbox",onChange:()=>r(p),className:"onoffswitch-checkbox form-checkbox h-5 w-5",name:"onoffswitch",id:`myonoffswitch${p}`,checked:((C=(f=t.availability)==null?void 0:f[p])==null?void 0:C.holiday)??!1}),e("label",{className:"onoffswitch-label",htmlFor:`myonoffswitch${p}`})]}),e("button",{onClick:()=>r(p),className:`text-sm ${(R=(k=t.availability)==null?void 0:k[p])!=null&&R.holiday?"text-red-500":"text-green-500"}`,children:(D=(T=t.availability)==null?void 0:T[p])!=null&&D.holiday?"Holiday":"Working"})]})]},p)})})]}),l&&a("div",{className:`${l?"max-h-[400px]":"max-h-0"} duration-200 rounded-lg flex justify-center items-center flex-col text-center max-w-md mx-auto`,children:[a("label",{className:"block text-gray-700 font-medium mb-2",children:["Timings for ",l]}),a("div",{className:"flex items-center space-x-2",children:[e("input",{type:"number",min:"00",max:"23",placeholder:"00",value:v((w=t.availability[l])==null?void 0:w.open).hour()||"",onChange:p=>{var f;return h(l,"open",v((f=t.availability[l])==null?void 0:f.open).hour(p.target.value).toISOString())},className:"w-12 border border-gray-300 rounded py-2 px-2 text-gray-700 text-center"}),e("span",{className:"text-xl",children:":"}),e("input",{type:"number",min:"00",max:"59",placeholder:"00",value:v((b=t.availability[l])==null?void 0:b.open).minute()||"",onChange:p=>{var f;return h(l,"open",v((f=t.availability[l])==null?void 0:f.open).minute(p.target.value).toISOString())},className:"w-12 border border-gray-300 rounded py-2 px-2 text-gray-700 text-center"}),e("span",{className:"ml-2",children:"hrs"})]}),e("div",{className:"text-center my-2",children:"To"}),a("div",{className:"flex items-center space-x-2",children:[e("input",{type:"number",min:"00",max:"23",placeholder:"00",value:v((g=t.availability[l])==null?void 0:g.close).hour()||"",onChange:p=>{var f;return h(l,"close",v((f=t.availability[l])==null?void 0:f.close).hour(p.target.value).toISOString())},className:"w-12 border border-gray-300 rounded py-2 px-2 text-gray-700 text-center"}),e("span",{className:"text-xl",children:":"}),e("input",{type:"number",min:"00",max:"59",placeholder:"00",value:v((N=t.availability[l])==null?void 0:N.close).minute()||"",onChange:p=>{var f;return h(l,"close",v((f=t.availability[l])==null?void 0:f.close).minute(p.target.value).toISOString())},className:"w-12 border border-gray-300 rounded py-2 px-2 text-gray-700 text-center"}),e("span",{className:"ml-2",children:"hrs"})]})]}),l&&a("div",{className:"flex justify-between flex-col items-center mt-4",children:[e("input",{type:"checkbox",onChange:y,className:"rounded-lg px-4 py-2"}),a("span",{children:["Set Same Time for All Days ",e("br",{}),"(you can also change later)"]})]})]})};X.propTypes={progress:n.number.isRequired,spot:n.object.isRequired,onChange:n.func.isRequired,disabled:n.bool};B.location;function A({geoLocation:s,setGeoLocation:u,defaultZoom:o=13}){var m,h;const[c,t]=d.useState(o),i=((m=s==null?void 0:s.location)==null?void 0:m.coordinates[0])??0,l=((h=s==null?void 0:s.location)==null?void 0:h.coordinates[1])??0;return e(j,{children:a(U,{center:[l,i],zoom:6,attributionControl:!0,zoomControl:!0,className:"h-full min-w-full",children:[e(z,{onChange:r=>{u({...s,location:{type:"Point",coordinates:[r.lng,r.lat]}})},onZoom:r=>{t(r)}}),e($,{center:[l,i],zoom:c}),e(Z,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),e(E,{position:[l,i],children:e(P,{children:"Popup for any custom information."})})]},"map")})}A.propTypes={geoLocation:n.object,setGeoLocation:n.func,defaultZoom:n.number};const Y=({progress:s,onChange:u,spot:o,setIndicator:c})=>{d.useState({...o==null?void 0:o.location});const[t,i]=d.useState({...o==null?void 0:o.location});d.useEffect(()=>{u({...o,location:t}),console.log(o)},[t]);const l=d.useCallback(x=>{const{name:y,value:w}=x.target;i(b=>({...b,[y]:w}))},[]),m=x=>{x.preventDefault(),console.log(t)},[h,r]=d.useState({input:"",show:!1});return console.log(h.show&&h.input=="spotType"),d.useEffect(()=>{s==4&&(t.road&&t.address&&t.district&&t.city&&t.state&&s==4?c(!1):c(!0))},[t.road,t.address,t.district,s,t.city,t.state]),a("form",{onSubmit:m,className:`min-w-screen h-fit p-5 duration-200 ${s===4?"h-[90vh] p-4 mx-auto gap-2 ":" hidden"} bg-blue-100 flex flex-col justify-center mb-16 items-center overflow-hidden`,children:[h.show&&e("div",{onClick:()=>r({input:"",show:!1}),className:"fixed w-screen h-screen bg-transparent top-0 "}),a("div",{className:"text-xl relative font-bold mb-4 flex items-center",children:["Share your Location",e("button",{className:"ml-1  -mt-2",onClick:()=>r({input:"spotType",show:!0}),children:a("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{y:"0.5",width:"12",height:"12",rx:"6",fill:"white"}),e("rect",{x:"0.5",y:"1",width:"11",height:"11",rx:"5.5",stroke:"black",strokeOpacity:"0.75"}),e("path",{d:"M7.29979 3.5C7.11408 3.5 6.93598 3.55925 6.80467 3.66471C6.67335 3.77017 6.59958 3.9132 6.59958 4.06235C6.59958 4.21149 6.67335 4.35453 6.80467 4.45999C6.93598 4.56545 7.11408 4.62469 7.29979 4.62469C7.4855 4.62469 7.6636 4.56545 7.79491 4.45999C7.92623 4.35453 8 4.21149 8 4.06235C8 3.9132 7.92623 3.77017 7.79491 3.66471C7.6636 3.55925 7.4855 3.5 7.29979 3.5ZM7.13174 5.28826C6.57624 5.32575 5.05912 6.29674 5.05912 6.29674C4.96576 6.35297 4.99376 6.34922 5.06845 6.45419C5.14314 6.55542 5.13381 6.56291 5.2225 6.51418C5.31586 6.46544 5.46991 6.38671 5.72665 6.25925C6.71628 5.74939 5.88537 6.92656 5.46057 8.90977C5.29252 9.892 6.39418 9.38589 6.67894 9.23593C6.95902 9.08972 7.71058 8.67359 7.78527 8.63235C7.88797 8.57611 7.81328 8.53113 7.73392 8.4374C7.6779 8.37367 7.62189 8.41866 7.62189 8.41866C7.31846 8.57986 6.76296 8.91727 6.68827 8.70358C6.59958 8.48989 7.16908 7.02404 7.48184 6.01556C7.53319 5.77563 7.67324 5.25077 7.13174 5.28826Z",fill:"black"})]})}),h.show&&h.input=="spotType"&&e("div",{className:"border-[1px] absolute left-[57%] bg-blue-100 leading-3  top-7  w-[70%] text-[9px] p-3 border-black rounded-2xl",children:"Please fill out your address accurately. This will be sent to the guest after the booking is placed."})]}),a("div",{className:"w-full max-w-md *:bg-transparent *:h-[50px] rounded-xl overflow-hidden *:border-black *:border-t-0 *:border-2  border-t-2 border-black ",children:[e("input",{type:"text",name:"address",value:t.address,onChange:l,placeholder:"Flat, house, etc. (if applicable)",className:"w-full h-full p-2 placeholder:text-gray-700 rounded-t-xl  focus:outline-none"}),e("input",{type:"text",name:"road",value:t.road,onChange:l,placeholder:"Street address",className:"w-full h-full p-2 placeholder:text-gray-700 focus:outline-none"}),e("input",{type:"text",name:"district",value:t.district,onChange:l,placeholder:"District/locality",className:"w-full h-full p-2 placeholder:text-gray-700 focus:outline-none"}),e("input",{type:"text",name:"city",value:t.city,onChange:l,placeholder:"City/town",className:"w-full h-full p-2 placeholder:text-gray-700 focus:outline-none"}),e("input",{type:"text",name:"state",value:t.state,onChange:l,placeholder:"State",className:"w-full h-full p-2 placeholder:text-gray-700 rounded-b-xl focus:outline-none"})]}),a("div",{className:"w-[90%] h-[30vh] max-w-md mt-6",children:[e("h3",{className:"text-lg font-bold mb-4",children:"Select location"}),e("div",{className:"h-64 bg-gray-300 rounded",children:e(A,{geoLocation:t,setGeoLocation:i,defaultZoom:13})})]})]})};Y.propTypes={progress:n.number.isRequired,onChange:n.func.isRequired,spot:n.object.isRequired};function L({progress:s,onChange:u,spot:o,setIndicator:c}){const[t,i]=d.useState((o==null?void 0:o.amenities)||[]),{amenities:l}=H(),[m,h]=d.useState({input:"",show:!1});return d.useEffect(()=>{u({...o,amenities:t})},[t]),d.useEffect(()=>{s==6&&(t.length>0?c(!1):c(!0))},[s,t]),a("div",{className:` ${s===6?"bg-blue-100 p-8 w-full h-fit min-h-[90vh] max-w-2xl mx-auto mb-[5vh]":" h-0 w-0"} duration-200 overflow-hidden`,children:[m.show&&e("div",{onClick:()=>h({input:"",show:!1}),className:"fixed w-screen h-screen bg-transparent top-0 "}),e("h2",{className:"text-2xl font-semibold mb-2",children:"Tell guests what your place has to offer"}),e("p",{className:"text-gray-500 mb-6",children:"You can add or edit after you publish your listing."}),a("div",{className:"text-lg flex relative font-medium mb-4",children:["What are the main amenities you offer?"," ",e("button",{className:"ml-1 -mt-2 ",onClick:()=>h({input:"spotType",show:!m.show}),children:a("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{y:"0.5",width:"12",height:"12",rx:"6",fill:"white"}),e("rect",{x:"0.5",y:"1",width:"11",height:"11",rx:"5.5",stroke:"black",strokeOpacity:"0.75"}),e("path",{d:"M7.29979 3.5C7.11408 3.5 6.93598 3.55925 6.80467 3.66471C6.67335 3.77017 6.59958 3.9132 6.59958 4.06235C6.59958 4.21149 6.67335 4.35453 6.80467 4.45999C6.93598 4.56545 7.11408 4.62469 7.29979 4.62469C7.4855 4.62469 7.6636 4.56545 7.79491 4.45999C7.92623 4.35453 8 4.21149 8 4.06235C8 3.9132 7.92623 3.77017 7.79491 3.66471C7.6636 3.55925 7.4855 3.5 7.29979 3.5ZM7.13174 5.28826C6.57624 5.32575 5.05912 6.29674 5.05912 6.29674C4.96576 6.35297 4.99376 6.34922 5.06845 6.45419C5.14314 6.55542 5.13381 6.56291 5.2225 6.51418C5.31586 6.46544 5.46991 6.38671 5.72665 6.25925C6.71628 5.74939 5.88537 6.92656 5.46057 8.90977C5.29252 9.892 6.39418 9.38589 6.67894 9.23593C6.95902 9.08972 7.71058 8.67359 7.78527 8.63235C7.88797 8.57611 7.81328 8.53113 7.73392 8.4374C7.6779 8.37367 7.62189 8.41866 7.62189 8.41866C7.31846 8.57986 6.76296 8.91727 6.68827 8.70358C6.59958 8.48989 7.16908 7.02404 7.48184 6.01556C7.53319 5.77563 7.67324 5.25077 7.13174 5.28826Z",fill:"black"})]})}),m.show&&m.input==="spotType"&&e("div",{className:"border-[1px] absolute left-[30%] bg-blue-100 top-7 w-[70%] text-[9px] leading-3 p-3 border-black rounded-2xl",children:"Please select all the amenities your spot offers. The more amenities you provide, the higher your chances of getting booked."})]}),e("div",{className:"grid grid-cols-3 gap-2",children:e(j,{children:l==null?void 0:l.map(r=>{const x=t.includes(r._id);return a("div",{className:"",children:[e("input",{type:"checkbox",value:r._id,className:"mr-2 p-2 drop-shadow-md rounded-md hidden",checked:x,onChange:()=>{i(x?t.filter(y=>y!==r._id):[...t,r._id])},name:"Categories",id:r._id}),e("label",{htmlFor:r._id,children:a("div",{className:`flex flex-col h-26 aspect-square gap-3 items-center justify-center bg-[#F2FCFF] rounded-2xl cursor-pointer duration-100 ${x&&"!bg-light-blue-100"}`,children:[e("img",{src:`${F.defaults.baseURL}/category/image/${r.image}`,alt:"icon",width:30,height:30}),e("label",{htmlFor:r._id,className:"text-center",children:r.name})]},r._id)})]},r._id)})})})]})}L.propTypes={progress:n.number.isRequired,onChange:n.func.isRequired,spot:n.object.isRequired,setIndicator:n.func.isRequired};function J({progress:s,onChange:u,setIndicator:o,spot:c}){const[t,i]=d.useState((c==null?void 0:c.amenities)||[]),{categories:l}=I(),[m,h]=d.useState({input:"",show:!1});return d.useEffect(()=>{s==7&&(t.length>0?o(!1):o(!0))},[s,t]),d.useEffect(()=>{u({...c,categories:t})},[t]),a("div",{className:` ${s===7?"bg-blue-100 p-8 w-full h-fit min-h-[90vh] max-w-2xl mx-auto mb-[5vh]":" h-0 w-0"} duration-200 overflow-hidden`,children:[m.show&&e("div",{onClick:()=>h({input:"",show:!1}),className:"fixed w-screen h-screen bg-transparent top-0 "}),a("div",{className:"text-lg  relative font-medium mb-4 flex",children:["What is your Spot good for?"," ",e("button",{className:"ml-1 -mt-2",onClick:()=>h({input:"spotType",show:!m.show}),children:a("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{y:"0.5",width:"12",height:"12",rx:"6",fill:"white"}),e("rect",{x:"0.5",y:"1",width:"11",height:"11",rx:"5.5",stroke:"black",strokeOpacity:"0.75"}),e("path",{d:"M7.29979 3.5C7.11408 3.5 6.93598 3.55925 6.80467 3.66471C6.67335 3.77017 6.59958 3.9132 6.59958 4.06235C6.59958 4.21149 6.67335 4.35453 6.80467 4.45999C6.93598 4.56545 7.11408 4.62469 7.29979 4.62469C7.4855 4.62469 7.6636 4.56545 7.79491 4.45999C7.92623 4.35453 8 4.21149 8 4.06235C8 3.9132 7.92623 3.77017 7.79491 3.66471C7.6636 3.55925 7.4855 3.5 7.29979 3.5ZM7.13174 5.28826C6.57624 5.32575 5.05912 6.29674 5.05912 6.29674C4.96576 6.35297 4.99376 6.34922 5.06845 6.45419C5.14314 6.55542 5.13381 6.56291 5.2225 6.51418C5.31586 6.46544 5.46991 6.38671 5.72665 6.25925C6.71628 5.74939 5.88537 6.92656 5.46057 8.90977C5.29252 9.892 6.39418 9.38589 6.67894 9.23593C6.95902 9.08972 7.71058 8.67359 7.78527 8.63235C7.88797 8.57611 7.81328 8.53113 7.73392 8.4374C7.6779 8.37367 7.62189 8.41866 7.62189 8.41866C7.31846 8.57986 6.76296 8.91727 6.68827 8.70358C6.59958 8.48989 7.16908 7.02404 7.48184 6.01556C7.53319 5.77563 7.67324 5.25077 7.13174 5.28826Z",fill:"black"})]})}),m.show&&m.input==="spotType"&&e("div",{className:"border-[1px] absolute left-[30%] bg-blue-100 top-7 w-[70%] text-[9px] leading-3 p-3 border-black rounded-2xl",children:"Please select all the categories below that you are willing to host. The more, the better!"})]}),e("div",{className:"grid grid-cols-3 gap-2 ",children:l==null?void 0:l.map(r=>{const x=t.includes(r._id);return a("div",{className:"",children:[e("input",{type:"checkbox",value:r._id,className:"mr-2 p-2 drop-shadow-md rounded-md hidden",checked:x,onChange:()=>{i(x?t.filter(y=>y!==r._id):[...t,r._id])},name:"Categories",id:r._id}),e("label",{htmlFor:r._id,children:a("div",{className:`flex flex-col h-26 aspect-square gap-3 items-center justify-center bg-[#F2FCFF] rounded-2xl cursor-pointer duration-100 ${x&&"!bg-light-blue-100"}`,children:[e("img",{src:`${F.defaults.baseURL}/category/image/${r.image}`,alt:"icon",width:30,height:30}),e("label",{htmlFor:r._id,className:"text-center",children:r.name})]},r._id)})]},r._id)})})]})}J.propTypes={progress:n.number.isRequired,onChange:n.func.isRequired,setIndicator:n.func.isRequired,spot:n.object.isRequired};class K extends d.Component{constructor(o){super(o);S(this,"handleImageUpload",o=>{const t=Array.from(o.target.files).map(i=>new Promise((l,m)=>{const h=new FileReader;h.onloadend=()=>{l(h.result)},h.onerror=m,h.readAsDataURL(i)}));Promise.all(t).then(i=>{this.props.setallimages(l=>[...l,...i])})});S(this,"handleDeleteImage",o=>{this.props.setallimages(c=>c.filter((t,i)=>i!==o))});this.state={showDialog:{input:"",show:!1}}}componentDidUpdate(o){o.progress,this.props.progress}render(){const{progress:o,setThumbnail:c,thumbnail:t,allimages:i}=this.props,{showDialog:l,setShowDialog:m}=this.state;return a("div",{className:`bg-blue-100 overflow-hidden ${o===8?"h-fit overflow-auto mb-[10vh] min-h-[80vh] w-fit px-3 ":"w-0 h-0"}`,children:[l.show&&e("div",{onClick:()=>this.setState({showDialog:{input:"spotType",show:!1}}),className:"fixed w-screen h-screen bg-transparent top-0 "}),a("div",{className:"text-2xl relative font-semibold mb-2 ",children:["Add some photos of",e("br",{}),"your Spot",e("button",{className:"ml-1 -mt-2",onClick:()=>this.setState({showDialog:{input:"spotType",show:!l.show}}),children:a("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{y:"0.5",width:"12",height:"12",rx:"6",fill:"white"}),e("rect",{x:"0.5",y:"1",width:"11",height:"11",rx:"5.5",stroke:"black",strokeOpacity:"0.75"}),e("path",{d:"M7.29979 3.5C7.11408 3.5 6.93598 3.55925 6.80467 3.66471C6.67335 3.77017 6.59958 3.9132 6.59958 4.06235C6.59958 4.21149 6.67335 4.35453 6.80467 4.45999C6.93598 4.56545 7.11408 4.62469 7.29979 4.62469C7.4855 4.62469 7.6636 4.56545 7.79491 4.45999C7.92623 4.35453 8 4.21149 8 4.06235C8 3.9132 7.92623 3.77017 7.79491 3.66471C7.6636 3.55925 7.4855 3.5 7.29979 3.5ZM7.13174 5.28826C6.57624 5.32575 5.05912 6.29674 5.05912 6.29674C4.96576 6.35297 4.99376 6.34922 5.06845 6.45419C5.14314 6.55542 5.13381 6.56291 5.2225 6.51418C5.31586 6.46544 5.46991 6.38671 5.72665 6.25925C6.71628 5.74939 5.88537 6.92656 5.46057 8.90977C5.29252 9.892 6.39418 9.38589 6.67894 9.23593C6.95902 9.08972 7.71058 8.67359 7.78527 8.63235C7.88797 8.57611 7.81328 8.53113 7.73392 8.4374C7.6779 8.37367 7.62189 8.41866 7.62189 8.41866C7.31846 8.57986 6.76296 8.91727 6.68827 8.70358C6.59958 8.48989 7.16908 7.02404 7.48184 6.01556C7.53319 5.77563 7.67324 5.25077 7.13174 5.28826Z",fill:"black"})]})}),l.show&&l.input==="spotType"&&e("div",{className:"border-[1px] absolute left-[40%] bg-blue-100 top-7 leading-3 w-[50%] text-[9px] p-3 border-black rounded-2xl",children:"Please upload high-quality pictures of your spot. This will help you stand out from others."})]}),e("p",{className:"text-sm text-zinc-500",children:"You can add more or edit after you publish your listing."}),a("label",{htmlFor:"upload-input",className:"text-xl text-zinc-500 w-[90%] border-2 border-zinc-300 mr-4 flex justify-start px-4 p-3 items-center gap-11 mt-6 bg-transparent rounded-md",children:[e("svg",{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M10.1053 19.7054C10.1053 20.1533 10.3049 20.5829 10.6602 20.8997C11.0156 21.2164 11.4975 21.3944 12 21.3944C12.5025 21.3944 12.9844 21.2164 13.3398 20.8997C13.6951 20.5829 13.8947 20.1533 13.8947 19.7054V12.3862H22.1053C22.6078 12.3862 23.0897 12.2083 23.445 11.8915C23.8004 11.5748 24 11.1452 24 10.6972C24 10.2492 23.8004 9.81962 23.445 9.50287C23.0897 9.18612 22.6078 9.00816 22.1053 9.00816H13.8947V1.68903C13.8947 1.24107 13.6951 0.81146 13.3398 0.494706C12.9844 0.177951 12.5025 0 12 0C11.4975 0 11.0156 0.177951 10.6602 0.494706C10.3049 0.81146 10.1053 1.24107 10.1053 1.68903V9.00816H1.89474C1.39222 9.00816 0.910288 9.18612 0.554956 9.50287C0.199624 9.81962 0 10.2492 0 10.6972C0 11.1452 0.199624 11.5748 0.554956 11.8915C0.910288 12.2083 1.39222 12.3862 1.89474 12.3862H10.1053V19.7054Z",fill:"Currentcolor",fillOpacity:"0.6"})}),"Add images"]}),e("input",{id:"upload-input",className:"hidden",type:"file",multiple:!0,onChange:this.handleImageUpload}),e("div",{id:"postcontainer",className:"w-screen flex flex-wrap pr-6 mt-6",children:i.map((h,r)=>e("div",{className:"mr-3 mb-5 flex flex-col content-center justify-center rounded-2xl",children:a("div",{className:"w-fit h-fit bg-zinc-200 rounded-2xl relative",children:[e("img",{className:"w-fit object-cover rounded-2xl",src:h,alt:"Uploaded"}),e("img",{onLoad:()=>{t==null&&c(h)},className:"w-fit object-cover hidden rounded-2xl",src:h,alt:"Uploaded"}),e("button",{onClick:()=>this.handleDeleteImage(r),className:"absolute top-1 right-1 bg-transparent text-black px-2 py-1 rounded-md",children:"X"})]})},r))})]})}}K.propTypes={progress:n.number.isRequired,setThumbnail:n.func.isRequired,spot:n.object.isRequired,onChange:n.func.isRequired,indicator:n.bool.isRequired,setIndicator:n.func.isRequired,thumbnail:n.string,allimages:n.array.isRequired,setallimages:n.func.isRequired};const Q=({progress:s,spot:u,onChange:o})=>{const[c,t]=d.useState(""),[i,l]=d.useState([]),[m,h]=d.useState((u==null?void 0:u.rules)<0||["No Smoking","No Alcohol","No Pets","No Parties"]);d.useEffect(()=>{o({...u,rule:i}),console.log(u)},[i,m,c]);const r=()=>{c.trim()&&(h([...m,c]),t(""))},x=b=>{const g=[...i];if(g.includes(b)){const N=g.indexOf(b);g.splice(N,1)}else g.push(b);l(g)},[y,w]=d.useState({input:"",show:!1});return a("div",{className:`bg-blue-100 overflow-hidden ${s===9?"p-6 min-h-screen w-screen h-fit":"h-0 w-0"} duration-200 rounded-lg shadow-md max-w-md mx-auto`,children:[a("div",{className:"text-2xl font-semibold relative mb-4",children:["Spot Rules",e("button",{className:"ml-3",onClick:()=>w({input:"spotType",show:!y.show}),children:a("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("rect",{y:"0.5",width:"12",height:"12",rx:"6",fill:"white"}),e("rect",{x:"0.5",y:"1",width:"11",height:"11",rx:"5.5",stroke:"black",strokeOpacity:"0.75"}),e("path",{d:"M7.29979 3.5C7.11408 3.5 6.93598 3.55925 6.80467 3.66471C6.67335 3.77017 6.59958 3.9132 6.59958 4.06235C6.59958 4.21149 6.67335 4.35453 6.80467 4.45999C6.93598 4.56545 7.11408 4.62469 7.29979 4.62469C7.4855 4.62469 7.6636 4.56545 7.79491 4.45999C7.92623 4.35453 8 4.21149 8 4.06235C8 3.9132 7.92623 3.77017 7.79491 3.66471C7.6636 3.55925 7.4855 3.5 7.29979 3.5ZM7.13174 5.28826C6.57624 5.32575 5.05912 6.29674 5.05912 6.29674C4.96576 6.35297 4.99376 6.34922 5.06845 6.45419C5.14314 6.55542 5.13381 6.56291 5.2225 6.51418C5.31586 6.46544 5.46991 6.38671 5.72665 6.25925C6.71628 5.74939 5.88537 6.92656 5.46057 8.90977C5.29252 9.892 6.39418 9.38589 6.67894 9.23593C6.95902 9.08972 7.71058 8.67359 7.78527 8.63235C7.88797 8.57611 7.81328 8.53113 7.73392 8.4374C7.6779 8.37367 7.62189 8.41866 7.62189 8.41866C7.31846 8.57986 6.76296 8.91727 6.68827 8.70358C6.59958 8.48989 7.16908 7.02404 7.48184 6.01556C7.53319 5.77563 7.67324 5.25077 7.13174 5.28826Z",fill:"black"})]})}),y.show&&y.input==="spotType"&&e("div",{className:"border-[1px] absolute left-[50%] bg-blue-100 leading-3  -top-5  w-[50%] text-[9px] p-3 border-black rounded-2xl",children:"Please select the rules you want your guests to abide by. If a rule is not listed, feel free to add your own."})]}),e("div",{className:"mb-4",children:m.map((b,g)=>a("label",{className:"flex items-center justify-between py-2 border-b border-gray-300",children:[e("span",{className:"text-gray-700",children:b}),e("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600",checked:i.includes(g),onChange:()=>x(g)})]},g))}),a("div",{className:"flex items-center mt-4",children:[e("input",{type:"text",value:c,onChange:b=>t(b.target.value),placeholder:"Add Custom Rule",className:"flex-grow border bg-transparent border-gray-300 rounded py-2 px-3 text-gray-700"}),e("button",{onClick:r,className:"ml-2 bg-blue-500 text-white font-medium py-2 px-4 rounded",children:"Add"})]})]})};Q.propTypes={progress:n.number.isRequired,spot:n.object.isRequired,onChange:n.func.isRequired};const ee=({progress:s,spot:u,onChange:o,alldocs:c,setalldocs:t,setIndicator:i})=>{d.useEffect(()=>{o({...u,docs:c})},[c]);const[l,m]=d.useState(!1),h=w=>{const b=Array.from(w.target.files).map(g=>g.name);t(g=>[...g,...b])},r=w=>{w.preventDefault()};d.useState({input:"",show:!1});const x=w=>{w.preventDefault();const b=Array.from(w.dataTransfer.files).map(g=>g.name);t(g=>[...g,...b])},y=w=>{t(b=>b.filter((g,N)=>N!==w))};return d.useEffect(()=>{s===11&&(l&&c.length>0?i(!1):i(!0))},[s,c,l]),a("div",{className:`${s===11?"flex flex-col items-center -mt-12 bg-blue-100 min-h-[80vh] p-6 ":"h-0 w-0"} overflow-hidden duration-300`,children:[a("div",{className:"text-lg font-semibold mb-2 relative flex justify-start w-full items-center",children:["Upload Documents"," "]}),e("p",{className:"text-gray-500 mb-4 text-sm",children:"Proof of Ownership and Identification: Please upload any document that shows you are the rightful owner of the spot or property manager, along with clear picture of the front and back of your identification."}),a("div",{className:"rounded-lg w-full  flex flex-col justify-center items-center p-4 bg-transparent",onDragOver:r,onDrop:x,children:[a("p",{className:"text-gray-500 text-center mb-4",children:["Click to upload or drag and drop",e("br",{}),e("span",{className:"text-gray-400",children:"(Max 1MB 10 Files)"})]}),e("input",{type:"file",multiple:!0,className:"hidden",id:"fileUpload",onChange:h}),e("label",{htmlFor:"fileUpload",className:"bg-blue-500 text-white py-2 px-4 rounded-lg cursor-pointer hover:bg-blue-600",children:"Browse Documents"})]}),a("div",{children:[e("input",{onClick:()=>m(!l),type:"checkbox",id:"declaration",className:"mr-2"}),a("label",{htmlFor:"declaration",className:"text-gray-500 text-sm",children:["I hereby declare, the information and documents ",e("br",{}),"I have provided about my spot is valid."]})]}),a("div",{className:"mt-4 w-full",children:[e("h3",{className:"font-semibold mb-2",children:"Uploaded Documents:"}),c.length>0?e("ul",{className:"list-disc list-inside",children:c.map((w,b)=>a("li",{className:"text-gray-700 border-b-2 border-zinc-300 py-2 flex justify-between items-center",children:[e("span",{children:w}),e("button",{onClick:()=>y(b),className:"ml-4 bg-red-500 text-white py-1 px-3 rounded-lg hover:bg-red-600",children:"Remove"})]},b))}):e("p",{className:"text-gray-500",children:"No documents uploaded yet."})]})]})};ee.propTypes={progress:n.number.isRequired,setIndicator:n.func.isRequired,spot:n.object.isRequired,onChange:n.func.isRequired,alldocs:n.array.isRequired,setalldocs:n.func.isRequired};export{X as A,ee as D,Q as H,J as M,G as S,Y as a,L as b,K as c};
