import{r as m,n as a,l as e,k as u,bD as j,Q as g,o as F,p as S,bE as C,F as k}from"./index-7VV-N64s.js";import{u as B}from"./useBanners-Bi9nWzhH.js";const U=({bannerImages:s,refetch:o})=>{const[d,h]=m.useState([]);m.useEffect(()=>{h(s)},[s]);const i=async r=>{console.log(r);try{const c=await u.delete(`/banners/${r._id}`);g.success("Image Deleted Successfully"),o(),console.log(c)}catch{g.success("Failed to delete the image")}};return a("div",{className:"mt-3 !z-5 overflow-hidden",children:[a("div",{className:"flex items-center justify-between rounded-t-3xl p-3",children:[e("div",{className:"text-lg font-bold text-navy-700 ",children:"Banner Images"}),e("div",{className:"flex hover:scale-105",children:e("button",{className:"linear mt-1 flex items-center justify-center gap-2 rounded-lg bg-lightPrimary p-2 text-gray-600 transition duration-200 hover:cursor-pointer hover:bg-gray-100 active:bg-gray-200   ",children:e("div",{className:"relative bg-white rounded-md overflow-hidden",children:e("span",{className:"text-base font-medium text-gray-600",children:"See all"})})})})]}),d==null?void 0:d.map(r=>{const c=`${u.defaults.baseURL}/banners/image/${r.image}`;return a("div",{className:"flex h-full w-full items-start bg-gray-100 rounded-lg justify-between px-3 py-[20px] hover:shadow-2xl",children:[a("div",{className:"flex items-center gap-3 ",children:[e("div",{className:"flex h-16 w-16 items-center justify-center",children:e("img",{className:"h-full w-full rounded-xl",src:c,alt:""})}),e("p",{children:"Banner Image"})]}),e("div",{className:"mt-4 flex items-center justify-center text-navy-700 ",children:e("span",{children:e(j,{className:"text-2xl mx-2 hover:scale-110 text-red-400",onClick:()=>i(r)})})})]},r._id)})]})};function R(){var x;const[s,o]=m.useState(0),[d,h]=m.useState(null),[i,r]=m.useState(null),c=async n=>{try{const l=n,v=(await u.postForm("/banners",{banner:[l]})).data;return console.log(v),r(null),g.success("Image Uploaded Successfully"),f(),v}catch(l){console.log(l),g.error("Failed to uplaod an image")}},b=n=>{const l=n.target.files[0],p=URL.createObjectURL(l);h(l),r(p)},{data:t,refetch:f}=B(),y=()=>{const l=s===0?t.length-1:s-1;o(l)},N=()=>{const l=s===t.length-1?0:s+1;o(l),console.log(t[s].image)},w=n=>{o(n)},I=`${u.defaults.baseURL}/banners/image/${(x=t==null?void 0:t[s])==null?void 0:x.image}`;return e(k,{children:a("div",{className:"mt-3 grid h-full grid-cols-1 gap-5 xl:grid-cols-2 2xl:grid-cols-3",children:[a("div",{className:"col-span-1 h-fit w-full xl:col-span-1 2xl:col-span-2",children:[a("div",{className:"flex text-white max-w-full h-96 w-full relative group ",children:[e("div",{style:{backgroundImage:`url(${t!=null&&t[s]?I:""})`},className:"w-full h-full bg-center bg-cover duration-500 "}),e("div",{className:"hidden group-hover:block absolute top-[50%] -translate-x-0 translate-y-[-50%] left-5 text-2xl rounded-full md:p-2  bg-black/20 text-white cursor-pointer",children:e(F,{onClick:y,size:30})}),e("div",{className:"hidden group-hover:block absolute top-[50%] -translate-x-0 translate-y-[-50%] right-5 text-2xl rounded-full md:p-2  bg-black/20 text-white cursor-pointer",children:e(S,{onClick:N,size:30})}),e("div",{className:"flex top-4 justify-center py-2",children:t==null?void 0:t.map((n,l)=>e("div",{onClick:()=>w(l),className:"text-2xl cursor-pointer"},l))})]}),a("div",{className:"mt-14  ",children:[a("div",{className:" mb-5 flex flex-col justify-between md:flex-row md:items-center ",children:[e("h4",{className:"text-2xl font-bold text-navy-700 ",children:i?"Preview Banner Image":"Upload Banner Image"}),e("div",{className:"mt-4 flex items-center justify-between md:mt-0 md:justify-center md:!gap-5 2xl:!gap-12",children:i&&a("div",{className:"flex",children:[e("button",{className:"linear mt-1 bg-blue-100 flex items-center justify-center gap-2 rounded-lg bg-lightPrimary p-2 text-gray-600 transition duration-200 hover:cursor-pointer hover:bg-gray-100 active:bg-gray-200   ",children:e("div",{className:"relative  rounded-md overflow-hidden",children:e("span",{className:"text-base font-medium text-gray-600",onClick:()=>c(d),children:"Upload Image"})})}),e("button",{className:"linear mt-1 flex items-center justify-center gap-2 rounded-lg bg-lightPrimary p-2 text-gray-600 transition duration-200 hover:cursor-pointer hover:bg-gray-100 active:bg-gray-200   ",children:e("div",{className:"relative bg-white rounded-md overflow-hidden",children:e("span",{className:"text-base font-medium text-red-500",onClick:()=>r(null),children:"Remove Image"})})})]})})]}),i?e("div",{className:"flex justify-center items-center p-2 bg-gray-100",children:e("img",{src:i,alt:"Preview",className:"object-cover h-96 w-full border border-gray-300"})}):a("div",{className:"mb-4 relative bg-white rounded-md overflow-hidden",children:[e("input",{type:"file",className:"absolute inset-0 opacity-0 z-50",name:"image",id:"image",onChange:b,accept:"image/*"}),e("label",{htmlFor:"image",className:" flex text-sm font-mediumfocus:outline-none focus:ring-2 focus:ring-offset-2",children:e("div",{className:" col-span-5 w-full rounded-xl bg-lightPrimary@:!bg-navy-700 2xl:col-span-6 h-96",children:a("button",{className:"flex h-full w-full flex-col items-center justify-center rounded-xl border-[2px] border-dashed border-gray-200 p-10",children:[e(C,{className:"text-[80px] text-brand-500 "}),e("h4",{className:"text-xl font-bold text-brand-500 ",children:"Browse Files"}),e("p",{className:"mt-2 text-sm font-medium text-gray-600",children:"PNG, JPG and GIF files are allowed"})]})})})]})]})]}),e("div",{className:"col-span-1 h-full w-full rounded-xl 2xl:col-span-1",children:e(U,{bannerImages:t,refetch:f})})]})})}export{R as default};
