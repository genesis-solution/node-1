import{r as P,l as r,F as u,n as o,ac as n,ad as t,L as g,Q as l,w}from"./index-7VV-N64s.js";import{u as h}from"./useUserMutation-GM_DqT_r.js";const m={currentPassword:null,newPassword:null,confirmPassword:null};function b(){const[e,d]=P.useState(m),{updateUser:p}=h();return r(u,{children:r(u,{children:o("form",{className:"flex flex-col gap-5 mt-9 w-full",onSubmit:async s=>{s.preventDefault();const c=Object.entries(e).filter(([i,f])=>f!==null),a=Object.fromEntries(c);if(console.log(a),c.length==3){if(a.newPassword!==a.confirmPassword){l.error("New password and confirm password do not match");return}p({data:{password:a.newPassword,currentPassword:a.currentPassword}},{onError:i=>{console.error(i),l.error("Error updating password")},onSuccess:()=>{l.success("Password updated successfully"),d(m)}})}},children:[o("div",{className:"flex flex-col gap-2",children:[r(n,{htmlFor:"current-password",required:!0,children:"Current Password"}),r(t,{margin:!0,required:!0,value:e.currentPassword,onChange:s=>d({...e,currentPassword:s.target.value}),name:"currentPassword",type:"password",id:"current-password"})]}),r("div",{className:"flex justify-end max-w-sm",children:r(g,{to:"/auth/forgot-password",className:"text-sm text-blue-600",children:"Forgot Password?"})}),o("div",{className:"flex flex-col gap-2",children:[r(n,{htmlFor:"new-password",required:!0,children:"New Password"}),r(t,{required:!0,value:e.newPassword,onChange:s=>d({...e,newPassword:s.target.value}),name:"newPassword",type:"password",id:"new-password"})]}),o("div",{className:"flex flex-col gap-2",children:[r(n,{htmlFor:"confirm-password",required:!0,children:"Confirm Password"}),r(t,{required:!0,value:e.confirmPassword,onChange:s=>d({...e,confirmPassword:s.target.value}),name:"confirmPassword",type:"password",id:"confirm-password"})]}),r("div",{className:"py-3 pl-7 -mx-5 -mb-5 md:bg-gray-200 bg-white backdrop-blur-sm",children:o("div",{className:"gap-2 flex",children:[r("button",{type:"submit",className:"bg-brand-primary text-black px-6 py-2 rounded-md font-semibold",children:"Save"}),r("button",{type:"reset",className:" text-black px-6 py-2 rounded-md font-semibold border border-gray-400",children:"Cancel"})]})})]})})})}b.propTypes={onUpdate:w.func.isRequired,forgetPasswordUrl:w.string.isRequired};export{b as default};
