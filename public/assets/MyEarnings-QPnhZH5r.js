import{a0 as x,r as n,n as a,l as t,dg as f}from"./index-CYYMkemY.js";import{u as p}from"./usePayouts-BMnhgt7A.js";function b(){var i;const l=p();x();const[s,o]=n.useState(null),[d,m]=n.useState(!1),[r,h]=n.useState(null),u=e=>{o(s===e?null:e)};return a("div",{className:"flex max-sm:mb-16 flex-wrap max-sm:mb-10 w-full duration-200 gap-4 px-1",children:[t("h1",{className:"text-xl font-semibold pl-2 ",children:"My Earning"}),l.data&&((i=l.data)==null?void 0:i.map(e=>{var c;return a("div",{className:`flex flex-col items-center border-2 border-zinc-300 max-sm:w-full duration-200 justify-between p-4 bg-white rounded-lg shadow-md md:w-full ${s===e.id?"h-auto":"h-34"}`,children:[t("div",{className:"flex w-full justify-between items-start",children:a("div",{className:"flex items-center flex-col gap-4",children:[a("div",{className:"bg-brand-primary text-black rounded-full flex justify-center items-center px-3 py-1 text-sm font-bold",children:[t("span",{children:"#"})," ",t("span",{children:"BK"+e.order.user.id})]}),t("div",{children:a("h2",{className:"text-lg font-semibold",children:["Payout Amount: $",Math.round(e.amount)]})})]})}),s===e.id&&a("div",{className:"mt-4 w-full",children:[a("p",{className:"text-sm text-gray-600",children:[t("span",{className:"font-bold",children:"Booking Date:"})," ",new Date(e.order.createdAt).toLocaleDateString()]}),a("p",{className:"text-sm text-gray-600",children:[t("span",{className:"font-bold",children:"Payout Type:"})," ",((c=e.cancelation)==null?void 0:c.policy)||"Booking"]}),a("p",{className:"text-sm text-gray-600",children:[t("span",{className:"font-bold",children:"Payment Status:"})," ",e.status]})]}),t(f,{onClick:()=>u(e.id),className:`text-gray-500 cursor-pointer duration-500 w-16 h-6 mt-2 ${s===e.id?"rotate-180":"rotate-0"}`})]},e.id)})),d&&r&&t("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50",children:t("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:t(PayoutDetails,{open:d,onClose:()=>m(!1),payout:r,refetch:l.query.refetch})})})]})}export{b as default};
